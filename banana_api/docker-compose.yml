version: "3.9"
services:
  api:
    build: .
    image: leaflens-api:latest
    ports:
      - "8000:8000"
    # Option A: mount local model file into the container
    volumes:
      - ./best_model.pth:/app/best_model.pth:ro
    environment:
      - MODEL_PATH=/app/best_model.pth
    # Option B (instead of volumes): comment the two lines above and use a public MODEL_URL
    # environment:
    #   - MODEL_URL=https://<your-hosted>/best_model.pth
    #   - MODEL_PATH=/app/best_model.pth
